{"ast":null,"code":"import _regeneratorRuntime from \"G:\\\\CB\\\\react projects\\\\10jun22\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"G:\\\\CB\\\\react projects\\\\10jun22\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { UserAgentApplication } from 'msal';\nexport var requiresInteraction = function requiresInteraction(errorMessage) {\n  if (!errorMessage || !errorMessage.length) {\n    return false;\n  }\n\n  return errorMessage.indexOf('consent_required') > -1 || errorMessage.indexOf('interaction_required') > -1 || errorMessage.indexOf('login_required') > -1;\n};\nexport var fetchMsGraph =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(url, accessToken) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(url, {\n              headers: {\n                Authorization: \"Bearer \".concat(accessToken)\n              }\n            });\n\n          case 2:\n            response = _context.sent;\n            return _context.abrupt(\"return\", response.json());\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function fetchMsGraph(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var isIE = function isIE() {\n  var ua = window.navigator.userAgent;\n  var msie = ua.indexOf('MSIE ') > -1;\n  var msie11 = ua.indexOf('Trident/') > -1; // If you as a developer are testing using Edge InPrivate mode, please add \"isEdge\" to the if check\n  // const isEdge = ua.indexOf(\"Edge/\") > -1;\n\n  return msie || msie11;\n};\nexport var AUTH_SCOPES = {\n  OPENID: 'openid',\n  OFFLINE_ACCESS: 'offline_access',\n  PROFILE: 'profile'\n};\nexport var AUTH_REQUESTS = {\n  LOGIN: {\n    scopes: [AUTH_SCOPES.OPENID, AUTH_SCOPES.PROFILE]\n  },\n  EMAIL: {\n    scopes: []\n  },\n  REFRESH_TOKEN: {\n    scopes: ['https://rezingoapp.b2clogin.com/rezingoapp.onmicrosoft.com/B2C_1_HealthAppUF']\n  }\n};\nexport var msalApp = new UserAgentApplication({\n  auth: {\n    clientId: '9f1c1b83-7f53-4a64-8b42-c39b5c8275dd',\n    // authority: 'https://reactauth.b2clogin.com/tfp/reactauth.onmicrosoft.com/B2C_1_React_Authentication_Sign_In/',\n    // authority:'https://rezingoapp.b2clogin.com/rezingoapp.onmicrosoft.com/B2C_1_HealthAppUF',\n    // authority:'https://login.microsoftonline.com/common/',\n    authority: \"https://rezingoapp.b2clogin.com/rezingoapp.onmicrosoft.com/B2C_1_HealthAppUF\",\n    knownAuthorities: [\"rezingoapp.b2clogin.com\"],\n    validateAuthority: 'false',\n    redirectUri: 'http://rezingo.com/',\n    postLogoutRedirectUri: 'http://rezingo.com/',\n    navigateToLoginRequestUrl: 'false'\n  },\n  cache: {\n    cacheLocation: 'sessionStorage',\n    storeAuthStateInCookie: isIE()\n  },\n  system: {\n    navigateFrameWait: 0\n  }\n});","map":{"version":3,"sources":["G:\\CB\\react projects\\10jun22\\front-end\\src\\components\\common\\headers\\common\\auth-utils.js"],"names":["UserAgentApplication","requiresInteraction","errorMessage","length","indexOf","fetchMsGraph","url","accessToken","fetch","headers","Authorization","response","json","isIE","ua","window","navigator","userAgent","msie","msie11","AUTH_SCOPES","OPENID","OFFLINE_ACCESS","PROFILE","AUTH_REQUESTS","LOGIN","scopes","EMAIL","REFRESH_TOKEN","msalApp","auth","clientId","authority","knownAuthorities","validateAuthority","redirectUri","postLogoutRedirectUri","navigateToLoginRequestUrl","cache","cacheLocation","storeAuthStateInCookie","system","navigateFrameWait"],"mappings":";;AAAA,SAASA,oBAAT,QAAqC,MAArC;AAEA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,YAAD,EAAkB;AACnD,MAAI,CAACA,YAAD,IAAiB,CAACA,YAAY,CAACC,MAAnC,EAA2C;AACzC,WAAO,KAAP;AACD;;AAED,SACED,YAAY,CAACE,OAAb,CAAqB,kBAArB,IAA2C,CAAC,CAA5C,IACAF,YAAY,CAACE,OAAb,CAAqB,sBAArB,IAA+C,CAAC,CADhD,IAEAF,YAAY,CAACE,OAAb,CAAqB,gBAArB,IAAyC,CAAC,CAH5C;AAKD,CAVM;AAYP,OAAO,IAAMC,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,GAAP,EAAYC,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACHC,KAAK,CAACF,GAAD,EAAM;AAChCG,cAAAA,OAAO,EAAE;AACPC,gBAAAA,aAAa,mBAAYH,WAAZ;AADN;AADuB,aAAN,CADF;;AAAA;AACpBI,YAAAA,QADoB;AAAA,6CAOnBA,QAAQ,CAACC,IAAT,EAPmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZP,YAAY;AAAA;AAAA;AAAA,GAAlB;AAUP,OAAO,IAAMQ,IAAI,GAAG,SAAPA,IAAO,GAAM;AACxB,MAAMC,EAAE,GAAGC,MAAM,CAACC,SAAP,CAAiBC,SAA5B;AACA,MAAMC,IAAI,GAAGJ,EAAE,CAACV,OAAH,CAAW,OAAX,IAAsB,CAAC,CAApC;AACA,MAAMe,MAAM,GAAGL,EAAE,CAACV,OAAH,CAAW,UAAX,IAAyB,CAAC,CAAzC,CAHwB,CAKxB;AACA;;AAEA,SAAOc,IAAI,IAAIC,MAAf;AACD,CATM;AAWP,OAAO,IAAMC,WAAW,GAAG;AACzBC,EAAAA,MAAM,EAAE,QADiB;AAEzBC,EAAAA,cAAc,EAAE,gBAFS;AAGzBC,EAAAA,OAAO,EAAE;AAHgB,CAApB;AAMP,OAAO,IAAMC,aAAa,GAAG;AAC3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,CAACN,WAAW,CAACC,MAAb,EAAqBD,WAAW,CAACG,OAAjC;AADH,GADoB;AAI3BI,EAAAA,KAAK,EAAE;AACLD,IAAAA,MAAM,EAAE;AADH,GAJoB;AAO3BE,EAAAA,aAAa,EAAE;AACbF,IAAAA,MAAM,EAAE,CAAC,8EAAD;AADK;AAPY,CAAtB;AAYP,OAAO,IAAMG,OAAO,GAAG,IAAI7B,oBAAJ,CAAyB;AAC9C8B,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE,sCADN;AAEJ;AACA;AACA;AACAC,IAAAA,SAAS,EAAE,8EALP;AAMJC,IAAAA,gBAAgB,EAAE,CAAC,yBAAD,CANd;AAOJC,IAAAA,iBAAiB,EAAE,OAPf;AAQJC,IAAAA,WAAW,EAAE,qBART;AASJC,IAAAA,qBAAqB,EAAE,qBATnB;AAUJC,IAAAA,yBAAyB,EAAE;AAVvB,GADwC;AAgB9CC,EAAAA,KAAK,EAAE;AACLC,IAAAA,aAAa,EAAE,gBADV;AAELC,IAAAA,sBAAsB,EAAE3B,IAAI;AAFvB,GAhBuC;AAoB9C4B,EAAAA,MAAM,EAAE;AACNC,IAAAA,iBAAiB,EAAE;AADb;AApBsC,CAAzB,CAAhB","sourcesContent":["import { UserAgentApplication } from 'msal';\r\n\r\nexport const requiresInteraction = (errorMessage) => {\r\n  if (!errorMessage || !errorMessage.length) {\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    errorMessage.indexOf('consent_required') > -1 ||\r\n    errorMessage.indexOf('interaction_required') > -1 ||\r\n    errorMessage.indexOf('login_required') > -1\r\n  );\r\n};\r\n\r\nexport const fetchMsGraph = async (url, accessToken) => {\r\n  const response = await fetch(url, {\r\n    headers: {\r\n      Authorization: `Bearer ${accessToken}`,\r\n    },\r\n  });\r\n\r\n  return response.json();\r\n};\r\n\r\nexport const isIE = () => {\r\n  const ua = window.navigator.userAgent;\r\n  const msie = ua.indexOf('MSIE ') > -1;\r\n  const msie11 = ua.indexOf('Trident/') > -1;\r\n\r\n  // If you as a developer are testing using Edge InPrivate mode, please add \"isEdge\" to the if check\r\n  // const isEdge = ua.indexOf(\"Edge/\") > -1;\r\n\r\n  return msie || msie11;\r\n};\r\n\r\nexport const AUTH_SCOPES = {\r\n  OPENID: 'openid',\r\n  OFFLINE_ACCESS: 'offline_access',\r\n  PROFILE: 'profile'\r\n};\r\n\r\nexport const AUTH_REQUESTS = {\r\n  LOGIN: {\r\n    scopes: [AUTH_SCOPES.OPENID, AUTH_SCOPES.PROFILE],\r\n  },\r\n  EMAIL: {\r\n    scopes: [],\r\n  },\r\n  REFRESH_TOKEN: {\r\n    scopes: ['https://rezingoapp.b2clogin.com/rezingoapp.onmicrosoft.com/B2C_1_HealthAppUF'],\r\n  },\r\n};\r\n\r\nexport const msalApp = new UserAgentApplication({\r\n  auth: {\r\n    clientId: '9f1c1b83-7f53-4a64-8b42-c39b5c8275dd',\r\n    // authority: 'https://reactauth.b2clogin.com/tfp/reactauth.onmicrosoft.com/B2C_1_React_Authentication_Sign_In/',\r\n    // authority:'https://rezingoapp.b2clogin.com/rezingoapp.onmicrosoft.com/B2C_1_HealthAppUF',\r\n    // authority:'https://login.microsoftonline.com/common/',\r\n    authority: \"https://rezingoapp.b2clogin.com/rezingoapp.onmicrosoft.com/B2C_1_HealthAppUF\",\r\n    knownAuthorities: [\"rezingoapp.b2clogin.com\"],\r\n    validateAuthority: 'false',\r\n    redirectUri: 'http://rezingo.com/',\r\n    postLogoutRedirectUri: 'http://rezingo.com/',\r\n    navigateToLoginRequestUrl: 'false',\r\n  },\r\n \r\n\r\n\r\n  cache: {\r\n    cacheLocation: 'sessionStorage',\r\n    storeAuthStateInCookie: isIE(),\r\n  },\r\n  system: {\r\n    navigateFrameWait: 0,\r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}